/*!
 *
 * Bryntum Gantt 5.0.1 (TRIAL VERSION)
 *
 * Copyright(c) 2022 Bryntum AB
 * https://bryntum.com/contact
 * https://bryntum.com/license
 *
 */
(function(l,V){const Q=l();function d(l,V){return p(V- -0x60,l);}while(!![]){try{const g=-parseInt(d(0x174,0x16a))/0x1+-parseInt(d(0x178,0x12c))/0x2*(parseInt(d(0x166,0x1ae))/0x3)+parseInt(d(0x14f,0x19d))/0x4*(-parseInt(d(0x164,0x18c))/0x5)+parseInt(d(0x1b5,0x165))/0x6+-parseInt(d(0x15e,0x11c))/0x7+-parseInt(d(0xf1,0x11a))/0x8+parseInt(d(0x13b,0x185))/0x9*(parseInt(d(0x182,0x1ab))/0xa);if(g===V)break;else Q['push'](Q['shift']());}catch(r){Q['push'](Q['shift']());}}}(K,0x69dc5));import{GridFeatureManager}from'./GridBase.js';import{DragHelper}from'./LocalizableComboItems.js';import{Delayable,InstancePlugin,DomHelper,_defineProperty,ObjectHelper,WalkHelper}from'./Editor.js';function p(l,V){const Q=K();return p=function(g,r){g=g-0x172;let a=Q[g];return a;},p(l,V);}import{TreeColumn}from'./Tree.js';class RowReorder extends Delayable(InstancePlugin){static get[u(-0x1bb,-0x203)](){function C(l,V){return u(l,V-0x379);}return C(0x1bb,0x194);}static get[u(-0x167,-0x197)](){return{'showGrip':null,'hoverExpandTimeout':0x3e8,'touchStartDelay':0x12c};}['construct'](l,V){this['grid']=l;function G(l,V){return u(l,V-0x1a2);}super[G(-0x6b,-0x23)](...arguments);}[u(-0x1c0,-0x1ca)](){var l;(l=this['dragHelper'])===null||l===void 0x0?void 0x0:l['destroy'](),super['doDestroy']();}['init'](){const l=this,{grid:V}=l;function L(l,V){return u(V,l-0x76);}l['dragHelper']=new DragHelper({'name':'rowReorder','cloneTarget':!![],'dragThreshold':0xa,'targetSelector':'.b-grid-row','lockX':!![],'scrollManager':V[L(-0x145,-0x15e)],'dragWithin':V['element'],'outerElement':l[L(-0x131,-0x111)],'touchStartDelay':l['touchStartDelay'],'monitoringConfig':{'scrollables':[{'element':V[L(-0x120,-0x149)][L(-0xf3,-0xc2)],'direction':L(-0x184,-0x1be)}]},'ignoreSamePositionDrop':![],'createProxy'(Q){function X(l,V){return L(V- -0x6c,l);}const g=Q['cloneNode'](!![]),r=document[X(-0x1b9,-0x1fe)]('div');g[X(-0x1b2,-0x1bf)]('id'),g['style']['transform']='',r[X(-0x1c3,-0x1d5)](g);if(V[X(-0x1df,-0x1e6)][X(-0x1ce,-0x1cb)]>0x1){const a=g['cloneNode'](!![]);a[X(-0x21a,-0x1d8)][X(-0x177,-0x18e)](X(-0x1d3,-0x1e5)),r[X(-0x1ba,-0x1d5)](a);}return DomHelper[X(-0x1c6,-0x1e8)](r,X(-0x138,-0x170),X(-0x201,-0x1df),X(-0x185,-0x197)),r;},'listeners':{'beforedragstart':L(-0x140,-0x157),'dragstart':'onDragStart','drag':L(-0x16b,-0x134),'drop':L(-0x103,-0x151),'reset':L(-0x127,-0xfb),'prio':0x2710,'thisObj':l}}),l[L(-0x160,-0x139)]=DomHelper[L(-0x192,-0x165)]({'className':L(-0x128,-0xf7)}),l[L(-0x124,-0x153)](l['dragHelper'],[L(-0xfc,-0x111),L(-0xfa,-0x126),L(-0x11d,-0xfa),L(-0x11e,-0x121)],'gridRow');}static get[u(-0x1c7,-0x191)](){function Z(l,V){return u(l,V-0x1c0);}return{'after':[Z(0x21,0x3d)]};}get[u(-0x1a8,-0x1a7)](){const l=this[x(-0x1eb,-0x1cd)][x(-0x1bf,-0x16f)][0x0];function x(l,V){return u(l,V-0x7);}return this[x(-0x1ee,-0x1cd)][x(-0x247,-0x1fe)][l][x(-0x1a0,-0x162)];}[u(-0x1a8,-0x1b6)]({source:l,context:V}){const Q=this,{grid:g}=Q,r=Q[P(0x375,0x38e)];if(Q[P(0x397,0x3d2)]||g['readOnly']||g[P(0x359,0x321)]||!r[P(0x3a7,0x3f3)](V[P(0x3b3,0x3f5)]))return![];V['startRecord']=g[P(0x3a5,0x38d)](V['element']);if(V[P(0x36d,0x35d)][P(0x326,0x338)])return![];V['originalRowTop']=g[P(0x3a9,0x3b5)]['getRowFor'](V['startRecord'])[P(0x35a,0x35d)];function P(l,V){return u(V,l-0x51c);}l['startEvent'][P(0x34c,0x38a)]==='touchstart'&&(!g[P(0x321,0x332)](V['startRecord'])&&g[P(0x38a,0x383)]({'record':V['startRecord'],'addToSelection':!![]}));const a=V['records']=g[P(0x32c,0x311)][P(0x39c,0x367)](h=>!h[P(0x326,0x33d)])['slice']()[P(0x379,0x3b3)]((h,o)=>g[P(0x328,0x338)][P(0x31d,0x33c)](h)-g[P(0x328,0x349)][P(0x31d,0x2e4)](o));return a[P(0x347,0x366)]>0x0&&!a['some'](h=>h['isSpecialRow']);}[u(-0x19c,-0x16e)]({context:l}){var V,Q;const g=this,{grid:r}=g,{cellEdit:a,cellMenu:h,headerMenu:o}=r['features'];a&&(g[T(0x106,0xc3)]=a[T(0x11d,0xf2)],a['disabled']=!![]);h===null||h===void 0x0?void 0x0:(V=h[T(0xf8,0xf3)])===null||V===void 0x0?void 0x0:V[T(0xc9,0xa7)](h,![]),o===null||o===void 0x0?void 0x0:(Q=o[T(0xf8,0xd8)])===null||Q===void 0x0?void 0x0:Q[T(0xc9,0xbd)](o,![]),r[T(0x139,0x10a)][T(0xc0,0xdb)]['add'](T(0xe4,0xe7));const b=l['element'][T(0xbe,0xf1)]('.b-focused');function T(l,V){return u(V,l-0x2a2);}b===null||b===void 0x0?void 0x0:b[T(0xc0,0xae)]['remove'](T(0x101,0xfe)),l['element'][T(0xa0,0xb9)][T(0xc0,0x105)][T(0xaa,0x67)](T(0x128,0x119),T(0xb9,0x91)),r[T(0xcf,0xc7)][T(0xc3,0x105)](g[T(0xcc,0x8c)]);}[u(-0x191,-0x1e1)]({context:l,event:V}){const Q=this,{grid:g}=Q,{store:r,rowManager:a}=g;let h=!![],o=g['rowManager'][e(-0x141,-0x101)](V[e(-0x1c6,-0x1d2)]),b,W,F,q;if(o){const m=o[e(-0x187,-0x1a0)]+g[e(-0x19f,-0x171)]['y']-g[e(-0x15b,-0x17a)]['y'],n=m+o[e(-0x197,-0x1ac)]/0x2;W=o['dataIndex'],b=r[e(-0x144,-0x17c)](W),F=V[e(-0x1c6,-0x19d)]>n;}else V[e(-0x1c6,-0x1fd)]<g['_bodyRectangle']['y']?(W=0x0,b=r['first'],F=![]):(W=r[e(-0x191,-0x1bb)]-0x1,b=r[e(-0x16e,-0x1ba)],F=!![]),o=g[e(-0x138,-0x182)]['getRow'](W);if(b===Q['overRecord']&&Q[e(-0x160,-0x13e)]===F){l[e(-0x164,-0x1a4)]=Q[e(-0x140,-0x131)];return;}Q['overRecord']=b,Q[e(-0x160,-0x149)]=F;b===l['startRecord']&&(h=![]);if(r[e(-0x1a1,-0x1aa)]){q=F?b[e(-0x1ac,-0x17f)]:b;l[e(-0x178,-0x192)][e(-0x190,-0x16d)](f=>f[e(-0x13a,-0x156)](b))&&(h=![]);if(l[e(-0x1ab,-0x185)]){const f=a['getRowById'](l[e(-0x1ab,-0x1e0)]);f===null||f===void 0x0?void 0x0:f[e(-0x130,-0x158)](e(-0x155,-0x188));}l[e(-0x1ab,-0x187)]=b['parent'];if(!l['parent'][e(-0x14f,-0x124)]){const S=a['getRowById'](l[e(-0x1ab,-0x1d1)]);S===null||S===void 0x0?void 0x0:S[e(-0x1ba,-0x1a8)](e(-0x155,-0x1a1));}Q[e(-0x150,-0x101)](Q[e(-0x1a2,-0x1e6)]),b&&b['isParent']&&!b[e(-0x169,-0x158)](r)&&(Q['hoverTimer']=Q[e(-0x192,-0x146)](()=>g[e(-0x167,-0x158)](b),Q[e(-0x15e,-0x1ab)]));}else q=F?r[e(-0x144,-0x140)](W+0x1):b;o&&DomHelper[e(-0x17c,-0x159)](Q[e(-0x19b,-0x162)],o[e(-0x187,-0x163)]+(F?o[e(-0x197,-0x162)]:0x0));function e(l,V){return u(V,l-0x3b);}l['insertBefore']=q,l[e(-0x164,-0x1b1)]=Q[e(-0x140,-0x12f)]=h;}async[u(-0x17e,-0x179)](l){const V=this,Q=l['context'];Q[N(0x4c8,0x4de)]=Q[N(0x4c8,0x4ae)]&&V[N(0x4ec,0x4de)];if(Q['valid']){Q[N(0x4bc,0x48c)]=!![];V[N(0x4b9,0x498)][N(0x473,0x491)][N(0x48b,0x492)]&&(Q[N(0x476,0x490)]=Q[N(0x4b4,0x4cf)][N(0x4bb,0x4ec)](r=>{var a;function i(l,V){return N(V- -0x1f6,l);}return{'record':r,'parentId':(a=r['parent'])===null||a===void 0x0?void 0x0:a['id'],'parentIndex':r[i(0x2e6,0x2a2)]};}));const g=await V[N(0x4c7,0x515)](N(0x4a8,0x4bf),l);g===![]&&(Q[N(0x4c8,0x47b)]=![]),await V[N(0x47b,0x42c)][N(0x48c,0x44a)](V['dropIndicator'],{'align':N(0x46a,0x47b)}),await V[N(0x47d,0x465)](Q);}function N(l,V){return u(V,l-0x667);}V['clearTimeout'](V[N(0x48a,0x479)]),V[N(0x484,0x490)]=V['after']=null,V['trigger']('gridRowDrop',l);}async[u(-0x1fb,-0x1ea)](l){const V=this,{grid:Q}=V,{store:g}=Q;let r=l[M(0x304,0x330)];l['valid']=l[M(0x318,0x302)]&&!r[M(0x2ec,0x30f)](a=>!g['includes'](a));function M(l,V){return u(V,l-0x4b7);}if(l[M(0x318,0x342)]){let a;g[M(0x2db,0x318)]?(r=r[M(0x337,0x35e)](h=>!h['parent']||!r[M(0x30f,0x320)](h[M(0x2d1,0x28d)])),a=await l['parent'][M(0x346,0x38e)](r,l[M(0x32f,0x345)]),Q[M(0x344,0x309)][M(0x335,0x30c)](h=>h[M(0x34c,0x398)](M(0x327,0x2ec))),l[M(0x318,0x2e3)]=a!==![]):g[M(0x331,0x372)](r,l[M(0x32f,0x322)]),g['clearSorters']();}l[M(0x2ff,0x2f9)](l[M(0x318,0x311)]),Q[M(0x34e,0x36a)][M(0x2d5,0x2a7)][M(0x2bf,0x292)]('b-row-reordering');}[u(-0x17e,-0x19d)](){const l=this,V=l[R(-0x1d0,-0x1e0)][R(-0x1f5,-0x1c6)][R(-0x1ca,-0x200)];l[R(-0x1d0,-0x1a8)][R(-0x165,-0x1a9)][R(-0x1de,-0x1e6)]['remove'](R(-0x1ba,-0x16e));V&&(V[R(-0x181,-0x15e)]=l['cellEditDisabledState']);l[R(-0x1d2,-0x187)][R(-0x1f4,-0x1d8)]();function R(l,V){return u(V,l-0x4);}DomHelper['removeClsGlobally'](l[R(-0x1d0,-0x201)][R(-0x165,-0x181)],R(-0x18c,-0x175));}[u(-0x16e,-0x183)](){function B(l,V){return u(l,V-0x4cf);}this[B(0x35a,0x357)]();}['updateShowGrip'](l){function Y(l,V){return u(l,V-0x160);}this[Y(-0x26,-0x74)][Y(0x7,-0x9)]['classList'][Y(-0x65,-0x88)](Y(-0x31,-0x21),l);}}function u(l,V){return p(V- -0x37a,l);}RowReorder[u(-0x1dc,-0x1c8)]='',RowReorder['_$name']='RowReorder',GridFeatureManager[u(-0x1f3,-0x1d7)](RowReorder,![]),GridFeatureManager['registerFeature'](RowReorder,!![],u(-0x198,-0x1d8));class TreeGroup extends InstancePlugin{[u(-0x1fc,-0x1c5)](l,V){function E(l,V){return u(l,V-0x649);}super[E(0x454,0x484)](l,V);if(!l[E(0x40d,0x456)](E(0x4b0,0x46d)))throw new Error(E(0x4b3,0x4ba));}['processParentData'](l){function z(l,V){return u(V,l- -0x61);}this['parentCls']&&(l['cls']=this[z(-0x225,-0x247)]);}[u(-0x1ad,-0x1bc)](l){var V;function I(l,V){return u(V,l-0x1fd);}((V=l['children'])===null||V===void 0x0?void 0x0:V[I(0x28,0x61)])===0x0&&l[I(0x1e,0x6e)](l[I(0x40,-0x3)]);}async[u(-0x142,-0x174)](){function H(l,V){return u(V,l-0x93);}this[H(-0x11b,-0xcf)][H(-0x161,-0x14f)][H(-0x11a,-0xd8)]&&await this[H(-0x11b,-0x13c)]['store']['await'](H(-0xf4,-0x113),![]);}async[u(-0x1b9,-0x17e)](l,V=!![]){const Q=this,{store:g}=Q[c(-0x1c6,-0x202)],r=Q[c(-0x1c6,-0x17b)][c(-0x21f,-0x265)][c(-0x1c9,-0x214)](a=>a instanceof TreeColumn);Q[c(-0x1f8,-0x221)]=l,Q[c(-0x1a1,-0x173)]++,await Q[c(-0x18c,-0x1c1)]();function c(l,V){return u(V,l- -0x18);}if(Q['isDestroyed'])return;if(l){!Q[c(-0x1d5,-0x1b5)]&&(g[c(-0x182,-0x177)](h=>{function D(l,V){return c(V-0x194,l);}h[D(-0x25,-0x4a)]&&h['children'][D(-0x1a,-0x59)]&&(h[D(-0x2b,-0x41)]=h[D(-0x89,-0x71)]['slice']());}),Q[c(-0x1d5,-0x18f)]=g[c(-0x1d1,-0x1ff)]['children'][c(-0x1d9,-0x1a3)]());const a=g[c(-0x1a5,-0x163)](l,h=>{function y(l,V){return c(V-0xa0,l);}ObjectHelper['setPath'](h,g[y(-0x115,-0x11e)][y(-0x198,-0x156)](r[y(-0x19f,-0x16f)]),h[y(-0x13d,-0x13f)]),Q[y(-0x1bf,-0x17e)](h);});return V&&(g['data']=a[c(-0x205,-0x1d7)]),Q[c(-0x1a1,-0x1a0)]--,a;}else WalkHelper[c(-0x1e9,-0x1ac)]({'$originalChildren':Q['$originalChildren']},h=>h['$originalChildren'],h=>Q[c(-0x1d4,-0x186)](h)),V&&(g[c(-0x1cc,-0x1fd)]=Q['$originalChildren']),Q['$originalChildren']=null,Q['isApplying']--;}[u(-0x1d2,-0x18c)](l){this['applyLevels'](l);}async[u(-0x143,-0x16d)](l){function t(l,V){return u(l,V-0x1aa);}ObjectHelper[t(-0x3c,0x5)](l,t(-0x5c,-0x41)),await this[t(0x11,0x2c)](l);}async[u(-0x18d,-0x184)](){function U(l,V){return u(V,l-0x13a);}await this[U(-0x44,-0x85)](null);}get[u(-0x17f,-0x1b2)](){function O(l,V){return u(V,l-0xf6);}return Boolean(this[O(-0xea,-0x9e)]);}}function K(){const s=['classList','onDrag','_levels','appendChild','getFieldDataSource','hoverTimer','tree','animateProxyTo','_bodyRectangle','call','Gantt','registerFeature','dropIndicator','length','grid','bodyContainer','height','preWalk','type','parentIndex','cellEdit','setTimeout','count','some','doDestroy','removeAttribute','featureClass','key','isParent','construct','parentCls','isTreeGrouped','top','slice','_$name','gridRowBeforeDropFinalize','b-row-reordering','$originalChildren','restoreChildRecord','scrollManager','b-generated-parent','rootNode','finalize','setTranslateY','onBeforeDragStart','989250kApWeO','data','records','isGrouped','find','315742dntpBp','startRecord','client','isLoading','map','async','hideContextMenu','last','includes','targetSubGridElement','modelClass','assertArray','isExpanded','sort','expand','b-focused','trigger','valid','b-row-drop-indicator','onReset','cellEditDisabledState','after','relayEvents','hoverExpandTimeout','add','configurable','scrollable','9QTJREo','abort','drag','selectRow','pluginConfig','b-row-reordering-target-parent','The\x20TreeGroup\x20feature\x20requires\x20the\x20Tree\x20feature\x20to\x20be\x20enabled','365GCsHii','treeify','updateLevels','clearTimeout','isRoot','isApplying','insertBefore','load','move','disabled','clearGroups','onPaint','forEach','b-row-reorder-with-grip','filter','getAt','applyLevels','21684YxbATD','getRowAt','reorderValid','b-selected','onDrop','init','getRecordFromElement','regions','contains','waitForReadiness','rowManager','beforeDragStart','tryInsertChild','dragStart','17075050BJNxSM','onDragStart','group','1420269OsdIGo','removeCls','traverse','element','createElement','columns','processParentData','subGrids','TreeGroup','$name','firstElementChild','clientY','1223776QdNoFH','indexOf','706335QLkDzb','l0-l0','properties','isSelected','vertical','features','remove','field','readOnly','addCls','store','hasFeature','removeClsGlobally','oldPositionContext','selectedRecords','b-row-dragging-multiple','2YjjPaF','children','dragHelper','group()','finalizeReorder','b-hover','toggle','nextSibling','parent','RowReorder','querySelector','overRecord'];K=function(){return s;};return K();}_defineProperty(TreeGroup,u(-0x225,-0x203),'TreeGroup'),_defineProperty(TreeGroup,u(-0x150,-0x197),{'levels':null,'parentCls':u(-0x1f3,-0x1ba)}),_defineProperty(TreeGroup,u(-0x1aa,-0x191),{'assign':[u(-0x18e,-0x16d),'clearGroups']}),_defineProperty(TreeGroup,u(-0x1f9,-0x1fc),{'isApplying':0x0}),TreeGroup[u(-0x202,-0x1c0)]=u(-0x20b,-0x204),GridFeatureManager[u(-0x222,-0x1d7)](TreeGroup);export{RowReorder,TreeGroup};